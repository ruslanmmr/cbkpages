{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","nav","search","resize","innerWidth","mobileLink","scrollLink","overlay","visibleOnly","threshold","effect","effectTime","navButton","click","toggleClass","event","navState","slideDown","addClass","removeClass","slideUp","window","top","this","offset","preventDefault","setTimeout","is","target","scrollTop","button","input","formBlock","state","hasClass","show","hide","fadeOut","e","has","length","on"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,OADAF,MACAE,gBACAC,WAEAC,EAAAA,QAAMC,OAAA,WAJRC,WAAAP,EAAA,QAAAO,eAWA,IAAIA,WAAaP,EAAE,QAAQO,aAA3BC,WAAcR,EAAGA,qBAAjBS,WACYT,EAAGA,gBADfU,QAEED,EAAU,YAMVT,SAAEG,OACAQ,EAAAA,SAAAA,KAAa,CACbC,aAFc,EAGdC,UAAQ,GACRC,OAAAA,SAJFA,WAAA,QAUA,SAAIC,MAAJ,IACEX,EAAQJ,EAAA,kBAEVe,EAAAA,EAAUC,gBAERZ,EAAIa,MAAAA,SAAYC,GAChBC,EAAAA,iBAHFf,EAAAa,YAAA,cASIb,EAAIgB,SAAU,eAFhBL,EAGOM,SAAA,wBACLN,EAAAA,UAAUO,OAEXP,EAAAO,YAAA,wBACFlB,EAAAmB,QAAA,QAECvB,EAAAwB,QAAIjB,OAAU,WACZ,IAAAH,YACDA,EAAAkB,YAAA,gBAMHb,SAAAA,gBACEA,WAAST,MAAC,SAAYkB,GAAtB,IACEO,EAAGzB,EAAI0B,MAAKC,KAAN,QACRT,EAAMU,EAAAA,GAAAA,SAANH,IAAAP,EAAMU,iBAGJC,WAAWC,GAAAZ,EAAAa,QACT/B,WAAE,WACAgC,EAAAA,aAAWP,QAAAA,CADbO,UAAAP,GAGC,MALL,KAQIO,EAAAA,aAAWP,QAAAA,CADbO,UAAAP,GAGD,OAMD,SAAIQ,SAAJ,IACIC,EAAUlC,EAAA,qBACVmC,EAASnC,EAAGA,mBAAZmC,EAAYnC,EAAE,kBAwBf,SAAMoC,IACLF,EAAAG,SAAA,yBACAJ,EAAOK,OAAP,KACDL,EAAAM,SAENL,EAAAM,QAAA,KAHOP,EAAOK,QApBDH,EAAAA,UAAUb,QAAAA,SAAYmB,GACjBN,EAAAE,SAAA,0BAAAF,EAAAL,GAAAW,EAAAV,SACV,IAAAI,EAAAO,IAAAD,EAAAV,QAAAY,SALHR,EAAAb,YAAA,wBAQQc,OAIVD,EAASS,GAAT,oBAA2B,WACzBT,EAAUb,SAAV,wBACAc,MAFFD,EAAUS,GAAG,aAAc,WAK3BT,EAAAb,YAAiB,wBACfc","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n  landingScroll();\r\n  search();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n  mobileLink = $('.mobile-nav__link'),\r\n  scrollLink = $('.scroll-link'),\r\n  overlay = $('.overlay');\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button'),\r\n    nav = $('.header .nav');\r\n\r\n  navButton.click(function (event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('nav_active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if (nav.hasClass('nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      nav.slideDown(300);\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      nav.slideUp(300);\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      nav.removeClass('nav_active');\r\n    }\r\n  });\r\n}\r\n\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  })\r\n}\r\n\r\n//якорные ссылки {\r\n  function search() {\r\n    var button = $('.buttons__overlay'),\r\n        input = $('.buttons__input'),\r\n        formBlock = $('.buttons__form');\r\n\r\n      //скрываем если клик был вне формы\r\n      $(document).mouseup(function (e){\r\n        if (formBlock.hasClass('buttons__form_active') && !formBlock.is(e.target) \r\n            && formBlock.has(e.target).length === 0) { \r\n              formBlock.removeClass('buttons__form_active');\r\n              state(); \r\n        }\r\n      });\r\n\r\n    button.on('click, mouseenter', function(){\r\n      formBlock.addClass('buttons__form_active');\r\n      state();\r\n    })\r\n    formBlock.on('mouseleave', function(){\r\n      formBlock.removeClass('buttons__form_active');\r\n      state();\r\n    })\r\n    //проверка состояния формы\r\n    function state() {\r\n      if(formBlock.hasClass('buttons__form_active')) {\r\n        input.fadeIn(300);\r\n        button.hide();\r\n      } else {\r\n        input.fadeOut(300);\r\n        button.show();\r\n      }\r\n    }\r\n}"]}